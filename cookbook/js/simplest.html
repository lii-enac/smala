<!DOCTYPE>
<html>
<meta charset="UTF-8">
<body>

<h2>djnn/smala in js</h2>
<p id="demo"></p>
<canvas id="canvas"></canvas>

<script>
document.getElementById("demo").innerHTML = "yep";
console.log("running");

Module = {
    canvas: document.getElementById('canvas'),
    onRuntimeInitialized: function() {
        djnn_init_js_api ();

        init_core();
        init_exec_env();
        init_base();
        init_display();
        init_gui();
        
        var cpnt_0 = Component (null, "root");
        var cpnt_1 = Window (cpnt_0, "f", "simplest", 0, 0, 600, 600);
        var cpnt_3 = Translation (cpnt_0, "t", 0, 0);
        var cpnt_4 = OutlineWidth (cpnt_0, "ow", 10);
        var cpnt_5 = FillColor (cpnt_0, "fc", 255, 0, 0);
        var cpnt_6 = OutlineColor (cpnt_0, "_", 0, 0, 255);
        var cpnt_7 = Circle (cpnt_0, "_", 0, 0, 50);
        //dump (cpnt_1);
        mouse_tracking = 1;
        Connector (cpnt_0, "", find_child (cpnt_1, "move/x"), find_child (cpnt_3, "tx"), 1);
    	Connector (cpnt_0, "", find_child (cpnt_1, "move/y"), find_child (cpnt_3, "ty"), 1);
        activate(cpnt_0);
        activate (mainloop_instance());
    }
};

</script>
<script text="text/javascript" src="djnn.js"></script>
<script text="text/javascript" src="djnn_js_api.js"></script>

</body>
</html>